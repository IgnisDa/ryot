[workspace]
members = ["apps/backend", "libs/providers", "libs/rs-utils"]
resolver = "2"

[workspace.metadata.dist]
cargo-dist-version = "0.2.0"
ci = ["github"]
installers = ["shell", "powershell"]
targets = [
    "x86_64-unknown-linux-gnu",
    "x86_64-apple-darwin",
    "aarch64-apple-darwin",
]

[profile.dist]
inherits = "release"
opt-level = 's'
strip = true
lto = "thin"

[workspace.dependencies]
anyhow = "1.0.75"
apalis = { version = "0.4.5", features = [
    "cron",
    "extensions",
    "limit",
    "sqlite",
] }
async-graphql = { version = "6.0.7", features = [
    "chrono",
    "decimal",
    "log",
    "uuid",
] }
async-trait = "0.1.74"
axum = { version = "0.6.20", features = ["macros", "multipart"] }
chrono = "0.4.31"
convert_case = "0.6.0"
http = "0.2.9"
http-types = "2.12.0"
hashbag = "0.1.11"
itertools = "0.11.0"
surf = { version = "2.3.2", features = [
    "h1-client-rustls",
], default-features = false }
rand = "0.8.5"
rust_decimal = "1.32.0"
rust_decimal_macros = "1.32.0"
rust_iso3166 = "0.1.11"
sea-query = "0.30.2"
sea-orm = { version = "0.12.3", features = [
    "debug-print",
    "macros",
    "runtime-tokio-rustls",
    "sqlx-mysql",
    "sqlx-postgres",
    "sqlx-sqlite",
    "with-chrono",
    "with-uuid",
    "with-rust_decimal",
] }
serde = { version = "1.0.189", features = ["derive"] }
serde_json = "1.0.107"
serde_with = { version = "3.4.0", features = ["chrono_0_4"] }
strum = { version = "0.25.0", features = ["derive"] }

fileGroups:
  remix:
    - app/**/*
    - public/**/*
    - env.d.ts
    - remix.config.*

tasks:
  routes:
    command: remix-routes --strict
    inputs:
      - '@group(remix)'

  dev:
    command: vite dev --port 3000 --host
    local: true
    deps:
      - routes

  build:
    command: vite build && vite build --ssr
    inputs:
      - '@group(remix)'
    outputs:
      - build
      - .cache
      - public/build
    deps:
      - routes

  typecheck:
    inputs:
      - '@group(remix)'
